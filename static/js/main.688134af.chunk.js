(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(59)},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),o=a(20),n=a(2),s=a(6),i=a(22),l=a(23),u=a(27),h=a(24),m=a(28),g=a(7),d=a.n(g),p="https://api.chucknorris.io/jokes",k="SET_RANDOM_JOKE",j="SET_JOKE",y="SET_CATEGORIES",E="CHANGE_STATUS",O="CHANGE_LOADING_STATUS",f=a(25),S=a.n(f),b=(a(57),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).search=function(){var e=a.props,t=e.searchRandomJoke,r=e.searchCategories,c=e.searchJoke;""!=a.state.searchQuery?"random"===a.state.searchQuery?t():"categories"===a.state.searchQuery?r():c(a.state.searchQuery):alert("Please type your query!!")},a.setSearchQuery=function(e){a.setState({searchQuery:e.target.value})},a.moveQuery=function(){localStorage.getItem(a.state.searchQuery)?(localStorage.removeItem(a.state.searchQuery),alert("This query is remove~")):alert("This query isn't in local!")},a.state={searchQuery:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jokeList,a=e.categories,r=e.dataFromCache,o=e.loading;return c.a.createElement("div",{className:"App"},c.a.createElement("img",{className:"logo",alt:"Chuck Norris Jokes Api - JSON API for random Chuck Norris jokes",src:"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png",srcSet:"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small@2x.png 720w"}),c.a.createElement("div",{className:"search-block"},c.a.createElement("input",{type:"text",className:"search-input",onChange:this.setSearchQuery,placeholder:"Pleace type your query~"}),c.a.createElement("button",{onClick:this.search,className:"search-button"},"search"),c.a.createElement("button",{onClick:this.moveQuery,className:"remove-button"},"clean query cache")),c.a.createElement("div",{className:"joke-list"},o&&c.a.createElement("div",{className:"loading"},c.a.createElement(S.a,{type:"spokes",color:"#219ea9",height:70,width:70})),c.a.createElement("ul",null,r&&c.a.createElement("p",{className:"cache"},"Result from cache"),"categories"===this.state.searchQuery?a.map(function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("p",null,e))}):t.map(function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("img",{src:e.icon_url,alt:"icon"}),c.a.createElement("span",{className:"line"}),c.a.createElement("p",null,e.value))}))))}}]),t}(r.Component)),N=Object(s.b)(function(e){return{jokeList:e.joke.jokeList,categories:e.joke.categories,dataFromCache:e.joke.dataFromCache,loading:e.joke.loading}},function(e){return{searchRandomJoke:function(){e(function(e){return d.a.get("".concat(p,"/random")).then(function(t){e({type:k,jokeList:t.data})})})},searchCategories:function(){e(function(e){return d.a.get("".concat(p,"/categories")).then(function(t){e({type:y,categories:t.data})})})},searchJoke:function(t){e(function(e){return function(t){var a=JSON.parse(localStorage.getItem(e));return a?(t({type:E,dataFromCache:!0}),t({type:j,jokeList:a})):(t({type:O,loading:!0}),d.a.get("".concat(p,"/search?query=").concat(e)).then(function(a){0!==a.data.result.length?(localStorage.setItem(e,JSON.stringify(a.data.result)),t({type:j,jokeList:a.data.result})):alert("Can't find any joke~"),t({type:O,loading:!1})}))}}(t))}}})(b),C=a(8),_=a(5),v={jokeList:[],categories:[],dataFromCache:!1,loading:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RANDOM_JOKE":return Object(_.a)({},e,{jokeList:Object(C.a)(e.jokeList).concat([t.jokeList])});case"SET_JOKE":return Object(_.a)({},e,{jokeList:Object(C.a)(t.jokeList)});case"SET_CATEGORIES":return Object(_.a)({},e,{categories:Object(C.a)(t.categories)});case"CHANGE_STATUS":return Object(_.a)({},e,{dataFromCache:t.dataFromCache});case"CHANGE_LOADING_STATUS":return Object(_.a)({},e,{loading:t.loading});default:return e}},A=Object(n.c)({joke:T}),J=a(26),L=Object(n.d)(A,Object(n.a)(J.a));Object(o.render)(c.a.createElement(s.a,{store:L},c.a.createElement(N,null)),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.688134af.chunk.js.map